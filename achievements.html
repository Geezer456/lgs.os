<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ba≈üarƒ±mlar ¬∑ LGS.OS</title>
    <style>
        :root { --primary:#ff8800; --primary-glow:rgba(255,136,0,0.6); --bg:#050505; --card:#111; --text:#ddd; --accent:#00ff88; --header-bg:#000; --danger:#ff3333; --mc-green:#55ff55; --mc-green-glow:rgba(85,255,85,0.8); --mc-purple:#aa00ff; --mc-gold:#ffaa00; --mc-gold-glow:rgba(255,170,0,0.7); }
        body.theme-cyan   { --primary:#00f2ff; --primary-glow:rgba(0,242,255,0.6); }
        body.theme-purple { --primary:#bc13fe; --primary-glow:rgba(188,19,254,0.6); }
        body.theme-green  { --primary:#39ff14; --primary-glow:rgba(57,255,20,0.6); }
        * { box-sizing:border-box; margin:0; padding:0; }
        body { font-family:'Segoe UI',sans-serif; background:var(--bg); color:var(--text); display:flex; flex-direction:column; height:100vh; overflow:hidden; transition:0.3s; }
        .top-header { width:100%; height:60px; background:var(--header-bg); border-bottom:2px solid #222; display:flex; align-items:center; justify-content:space-between; padding:0 20px; flex-shrink:0; z-index:1000; }
        .logo { color:var(--primary); font-weight:bold; font-size:20px; letter-spacing:2px; text-shadow:0 0 10px var(--primary-glow); }
        .header-stats { display:flex; align-items:center; gap:12px; width:380px; }
        .lvl-box { font-weight:bold; color:var(--primary); font-size:14px; }
        .header-xp-container { flex:1; height:10px; background:#222; border-radius:5px; overflow:hidden; border:1px solid #333; }
        #header-xp-bar { height:100%; background:var(--primary); width:0%; transition:width 0.5s; box-shadow:0 0 8px var(--primary); }
        .rank-tag { font-size:10px; background:var(--primary); color:#000; padding:2px 6px; border-radius:4px; font-weight:bold; white-space:nowrap; }
        button, .nav-link { padding:6px 10px; font-size:10px; border:1px solid var(--primary); background:transparent; color:var(--primary); cursor:pointer; font-weight:bold; transition:0.3s; border-radius:12px !important; text-decoration:none; display:inline-block; line-height:normal; white-space:nowrap; }
        button:hover, .nav-link:hover { background:var(--primary); color:#000; box-shadow:0 0 8px var(--primary-glow); }
        .achievements-link { border-color:var(--mc-green) !important; color:var(--mc-green) !important; box-shadow:0 0 10px var(--mc-green-glow); }
        .achievements-link:hover, .achievements-link.active-nav { background:var(--mc-green) !important; color:#000 !important; box-shadow:0 0 16px var(--mc-green-glow); }
        .map-viewport { flex:1; overflow:auto; position:relative; background-color:#080808; background-image:repeating-linear-gradient(0deg,transparent,transparent 39px,rgba(255,255,255,0.018) 39px,rgba(255,255,255,0.018) 40px),repeating-linear-gradient(90deg,transparent,transparent 39px,rgba(255,255,255,0.018) 39px,rgba(255,255,255,0.018) 40px); cursor:grab; }
        .map-viewport:active { cursor:grabbing; }
        .map-viewport::-webkit-scrollbar { width:6px; height:6px; }
        .map-viewport::-webkit-scrollbar-track { background:#000; }
        .map-viewport::-webkit-scrollbar-thumb { background:#2a2a2a; border-radius:3px; }
        .map-viewport::-webkit-scrollbar-thumb:hover { background:var(--primary); }
        .map-canvas { width:3800px; height:2600px; position:relative; }
        .connectors-svg { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
        .conn-locked { stroke:#1e1e1e; stroke-width:3; stroke-dasharray:8 7; fill:none; }
        .conn-unlocked { stroke:var(--mc-gold); stroke-width:3; fill:none; filter:drop-shadow(0 0 5px var(--mc-gold-glow)); animation:connGlow 2.5s ease-in-out infinite; }
        @keyframes connGlow { 0%,100%{opacity:1;filter:drop-shadow(0 0 5px var(--mc-gold-glow))} 50%{opacity:0.55;filter:drop-shadow(0 0 12px var(--mc-gold-glow))} }
        .ach-node { position:absolute; width:90px; display:flex; flex-direction:column; align-items:center; cursor:pointer; z-index:10; transition:transform 0.2s; }
        .ach-node:hover { transform:scale(1.1); z-index:50; }
        .ach-box { width:68px; height:68px; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:30px; border:3px solid #1e1e1e; background:#080808; box-shadow:0 4px 0 #000; transition:border-color 0.4s,box-shadow 0.4s,background 0.4s; }
        .ach-node.locked .ach-box      { filter:grayscale(1) brightness(0.25); }
        .ach-node.hidden-locked .ach-box { filter:grayscale(1) brightness(0.1); border-color:#111; }
        .ach-node.unlocked .ach-box    { border-color:var(--mc-green); background:rgba(85,255,85,0.07); box-shadow:0 0 16px var(--mc-green-glow),0 4px 0 #000; filter:none; animation:pulseGreen 2s ease-in-out infinite; }
        .ach-node.unlocked.secret .ach-box { border-color:var(--mc-gold); background:rgba(255,170,0,0.07); box-shadow:0 0 16px var(--mc-gold-glow),0 4px 0 #000; animation:pulseGold 2s ease-in-out infinite; }
        .ach-node.unlocked.final .ach-box  { border-color:var(--mc-purple); background:rgba(170,0,255,0.1); box-shadow:0 0 24px rgba(170,0,255,0.8),0 4px 0 #000; animation:pulsePurple 1.8s ease-in-out infinite; }
        @keyframes pulseGreen  { 0%,100%{box-shadow:0 0 16px var(--mc-green-glow),0 4px 0 #000} 50%{box-shadow:0 0 28px var(--mc-green-glow),0 4px 0 #000} }
        @keyframes pulseGold   { 0%,100%{box-shadow:0 0 16px var(--mc-gold-glow),0 4px 0 #000}  50%{box-shadow:0 0 28px var(--mc-gold-glow),0 4px 0 #000} }
        @keyframes pulsePurple { 0%,100%{box-shadow:0 0 24px rgba(170,0,255,0.8),0 4px 0 #000}  50%{box-shadow:0 0 40px rgba(170,0,255,1.0),0 4px 0 #000} }
        .ach-name { font-size:9px; font-weight:bold; text-align:center; margin-top:6px; color:#333; line-height:1.3; width:90px; transition:color 0.4s; }
        .ach-node.unlocked .ach-name         { color:var(--mc-green); }
        .ach-node.unlocked.secret .ach-name  { color:var(--mc-gold); }
        .ach-node.unlocked.final  .ach-name  { color:var(--mc-purple); text-shadow:0 0 8px rgba(170,0,255,0.8); }
        .ach-node.hidden-locked   .ach-name  { color:#1a1a1a; }
        .ach-badge { font-size:7px; padding:1px 5px; border-radius:6px; margin-top:3px; font-weight:bold; letter-spacing:0.5px; }
        .badge-normal   { background:#1a1a1a; color:#444; }
        .badge-zor      { background:rgba(255,51,51,0.15); color:var(--danger); }
        .badge-efsanevi { background:rgba(255,170,0,0.15); color:var(--mc-gold); }
        .badge-gizli    { background:rgba(170,0,255,0.15); color:var(--mc-purple); }
        .badge-final    { background:rgba(170,0,255,0.2); color:var(--mc-purple); }
        .badge-sistemsel{ background:rgba(0,242,255,0.15); color:#00f2ff; }
        .mc-rank-bar { height:46px; background:rgba(0,0,0,0.95); border-top:2px solid #1a1a1a; display:flex; align-items:center; justify-content:space-between; padding:0 24px; flex-shrink:0; }
        #mc-rank-text { font-size:14px; font-weight:bold; color:var(--mc-gold); text-shadow:0 0 10px var(--mc-gold-glow); letter-spacing:1px; }
        .rank-bar-right { display:flex; align-items:center; gap:16px; font-size:11px; color:#444; }
        .rank-bar-right span { color:var(--primary); font-weight:bold; }
        .rank-progress-bg { width:160px; height:6px; background:#1a1a1a; border-radius:3px; overflow:hidden; }
        #rank-progress-fill { height:100%; background:var(--mc-gold); transition:width 0.6s; box-shadow:0 0 6px var(--mc-gold-glow); }
        .mc-tooltip { position:fixed; background:rgba(5,5,5,0.98); border:2px solid #333; border-radius:8px; padding:13px 16px; max-width:250px; z-index:9999; pointer-events:none; display:none; box-shadow:0 8px 24px rgba(0,0,0,0.9); }
        .mc-tooltip.show { display:block; }
        .tooltip-icon  { font-size:28px; margin-bottom:8px; text-align:center; }
        .tooltip-title { font-weight:bold; font-size:13px; margin-bottom:5px; }
        .tooltip-desc  { font-size:11px; color:#777; line-height:1.5; margin-bottom:7px; }
        .tooltip-status { font-size:10px; font-weight:bold; padding:3px 8px; border-radius:4px; display:inline-block; }
        .ts-open  { background:rgba(85,255,85,0.1);  color:var(--mc-green);  border:1px solid var(--mc-green); }
        .ts-locked{ background:rgba(60,60,60,0.2);   color:#555;             border:1px solid #2a2a2a; }
        .ts-secret{ background:rgba(255,170,0,0.1);  color:var(--mc-gold);   border:1px solid var(--mc-gold); }
        .ts-final { background:rgba(170,0,255,0.1);  color:var(--mc-purple); border:1px solid var(--mc-purple); }
        .map-zone-label { position:absolute; font-size:9px; color:#1e1e1e; font-weight:bold; letter-spacing:3px; text-transform:uppercase; pointer-events:none; border-bottom:1px solid #161616; padding-bottom:3px; }
    </style>
</head>
<body id="mainBody">
    <header class="top-header">
        <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
            <div class="logo">‚ö° LGS.OS</div>
            <a class="nav-link" href="index.html">üè† ANA SAYFA</a>
            <a class="nav-link" href="meb.html">üìö MEB KONU</a>
            <a class="nav-link" href="deneme.html">üìä DENEME</a>
            <a class="nav-link" href="hiz.html">‚ö° HIZ MODU</a>
            <button onclick="cycleTheme()">TEMA</button>
        </div>
        <div style="display:flex;align-items:center;gap:12px;">
            <a class="nav-link achievements-link active-nav" href="achievements.html">üèÜ BA≈ûARIMLAR</a>
            <div class="header-stats">
                <span class="rank-tag" id="rank-name">√áAYLAK</span>
                <div class="lvl-box">LVL <span id="level">1</span></div>
                <div class="header-xp-container"><div id="header-xp-bar"></div></div>
                <div style="font-size:11px;color:var(--primary);font-weight:bold;"><span id="xp-balance">0</span> XP</div>
            </div>
        </div>
    </header>

    <div class="map-viewport" id="map-viewport">
        <div class="map-canvas" id="map-canvas">
            <svg class="connectors-svg" id="connectors-svg"></svg>
        </div>
    </div>

    <div class="mc-rank-bar">
        <div style="display:flex; align-items:center; gap:15px;">
            <div id="mc-rank-text">R√ºtbe: Acemi Madenci ü™ì</div>
            
            <a href="guide.html" class="nav-link" style="border-color:var(--mc-gold) !important; color:var(--mc-gold) !important; box-shadow:0 0 5px var(--mc-gold-glow); font-size:11px; padding:4px 12px;">
                üìñ REHBER / GUIDE
            </a>
        </div>

        <div class="rank-bar-right">
            <div><span id="mc-open-count">0</span> / 60 Ba≈üarƒ±m</div>
            <div class="rank-progress-bg"><div id="rank-progress-fill" style="width:0%"></div></div>
        </div>
    </div>

    <div class="mc-tooltip" id="mc-tooltip">
        <div class="tooltip-icon"   id="tooltip-icon"></div>
        <div class="tooltip-title"  id="tooltip-title"></div>
        <div class="tooltip-desc"   id="tooltip-desc"></div>
        <div class="tooltip-status" id="tooltip-status"></div>
    </div>

    <script>
        /* ‚îÄ‚îÄ VERƒ∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        const STORAGE_KEY = 'LGS_GAMER_OS_DATA';
        function loadData() {
            try { const r=localStorage.getItem(STORAGE_KEY); if(r) return JSON.parse(r); } catch(e) {}
            return { xpTotal:0,xpBalance:0,themeIdx:0,tasks:[],todos:[],planData:{},mebData:{},denemeler:[],hizHistory:[],hizSorular:Array(40).fill('bos'),achievements:{},visitedPages:[],achievementOpenCount:0 };
        }
        function saveData(d) { localStorage.setItem(STORAGE_KEY,JSON.stringify(d)); }
        let appData = loadData();
        if (!appData.achievements)    appData.achievements = {};
        if (!appData.visitedPages)    appData.visitedPages = [];
        if (!appData.achievementOpenCount) appData.achievementOpenCount = 0;

        /* ‚îÄ‚îÄ ACHIEVEMENT ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        const ACH_XP = {'crafting-table':10,'stone-age':20,'iron-armor':30,'diamond-ore':50,'enchanting':75,'dragon-breath':100,'speedrunner':40,'invis-potion':60,'firin-ustasi':15,'potion-master':35,'trade-center':50,'haritaci':25,'redstone-eng':30,'beacon-light':80,'villager-friend':25,'world-traveler':20,'monster-hunter':20,'wither-slayer':60,'hardcore-mode':90,'lgs-slayer':200,'redstone-math':40,'enchant-translator':45,'brewing-science':25,'ancient-history':80,'wandering-english':20,'totem-religion':40,'speed-potion-2':15,'mending-book':35,'phantom-hunter':50,'sunrise-clock':20,'mining-fatigue':70,'respawn-anchor':45,'emerald-block':90,'item-frame':20,'dye-crafter':25,'unbreaking-3':100,'the-void':30,'netherite-upgrade':60,'warden-slayer':85,'elytra-flight':50,'campfire-rest':25,'clock-sync':40,'spyglass-focus':45,'glowstone-night':55,'slimeball-stuck':10,'observer-stats':20,'golden-apple':40,'enchanted-apple':100,'shield-defense':35,'anvil-repair':40,'compass-nav':25,'shulker-box':20,'note-block':15,'command-block':15,'jukebox-party':30,'bookshelf-meb':90,'ender-pearl':70,'chorus-fruit':35,'trident-loyalty':120,'nether-star':150};
        const ACH_DEPS = {'crafting-table':null,'stone-age':'crafting-table','iron-armor':'stone-age','diamond-ore':'iron-armor','enchanting':'diamond-ore','dragon-breath':'enchanting','speedrunner':'iron-armor','invis-potion':'speedrunner','firin-ustasi':'crafting-table','potion-master':'firin-ustasi','trade-center':'potion-master','haritaci':'crafting-table','redstone-eng':'haritaci','beacon-light':'redstone-eng','villager-friend':'beacon-light','world-traveler':'villager-friend','monster-hunter':'crafting-table','wither-slayer':'monster-hunter','hardcore-mode':'wither-slayer','lgs-slayer':'dragon-breath','redstone-math':'stone-age','enchant-translator':'stone-age','brewing-science':'potion-master','ancient-history':'dragon-breath','wandering-english':'haritaci','totem-religion':'dragon-breath','speed-potion-2':'speedrunner','mending-book':'speedrunner','phantom-hunter':'invis-potion','sunrise-clock':'villager-friend','mining-fatigue':'invis-potion','respawn-anchor':'diamond-ore','emerald-block':'trade-center','item-frame':'firin-ustasi','dye-crafter':'haritaci','unbreaking-3':'villager-friend','the-void':'redstone-eng','netherite-upgrade':'diamond-ore','warden-slayer':'dragon-breath','elytra-flight':'speedrunner','campfire-rest':'invis-potion','clock-sync':'villager-friend','spyglass-focus':'mining-fatigue','glowstone-night':'phantom-hunter','slimeball-stuck':'crafting-table','observer-stats':'slimeball-stuck','golden-apple':'respawn-anchor','enchanted-apple':'golden-apple','shield-defense':'enchanted-apple','anvil-repair':'shield-defense','compass-nav':'redstone-eng','shulker-box':'compass-nav','note-block':'campfire-rest','command-block':'dye-crafter','jukebox-party':'redstone-eng','bookshelf-meb':'dragon-breath','ender-pearl':'speedrunner','chorus-fruit':'brewing-science','trident-loyalty':'unbreaking-3','nether-star':'trident-loyalty'};
        const ACH_NAMES = {'crafting-table':['ü™µ','Odun √áaƒüƒ±','Sisteme ilk i√ßeriƒüini girdin!'],'stone-age':['‚õèÔ∏è','Ta≈ü Devri','10 g√∂rev tamamladƒ±n!'],'iron-armor':['üõ°Ô∏è','Demir Zƒ±rh','Bir denemede 50 neti ge√ßtin!'],'diamond-ore':['üíé','ELMAS!!!','Bir denemede 80 net √ºst√º!'],'enchanting':['üìñ','B√ºy√º Masasƒ±','Toplam 1000 soru √ß√∂zd√ºn!'],'dragon-breath':['üê≤','Ejderha Nefesi','T√ºm MEB konularƒ±nƒ± tamamladƒ±n!'],'speedrunner':['‚ö°','Speedrunner','20 soruyu 10 dakikada bitirdin!'],'invis-potion':['üå´Ô∏è','G√∂r√ºnmezlik ƒ∞ksiri','120 dakika kesintisiz odak!'],'firin-ustasi':['üçû','Fƒ±rƒ±ncƒ±','Marketten ilk yiyecek aldƒ±n!'],'potion-master':['üß™','ƒ∞ksir Ustasƒ±','10 kez Kahve/ƒ∞√ßecek aldƒ±n!'],'trade-center':['üí∞','Ticaret Merkezi','Toplam 2000 XP harcadƒ±n!'],'haritaci':['üó∫Ô∏è','Haritacƒ±','T√ºm sayfalarƒ± ke≈üfettin!'],'redstone-eng':['‚öôÔ∏è','Kƒ±zƒ±lta≈ü M√ºhendisi','Haftalƒ±k planƒ±nƒ± eksiksiz doldurdun!'],'beacon-light':['üóº','Fener (Beacon)','10. Seviyeye ula≈ütƒ±n!'],'villager-friend':['üßë‚Äçüåæ','K√∂yl√º Dostu','5 g√ºn √ºst √ºste giri≈ü yaptƒ±n!'],'world-traveler':['üåç','D√ºnya Gezgini','Ba≈üarƒ±mlar sayfasƒ±nƒ± 50 kez a√ßtƒ±n!'],'monster-hunter':['‚öîÔ∏è','Canavar Avcƒ±sƒ±','ƒ∞lk Boss g√∂revini tamamladƒ±n!'],'wither-slayer':['üíÄ','Wither Avcƒ±sƒ±','10 Boss g√∂revi tamamladƒ±n!'],'hardcore-mode':['üíî','Hardcore Mod','Bir hafta sƒ±fƒ±r sektirme!'],'lgs-slayer':['üëë','LGS Slayer','T√úM ba≈üarƒ±mlarƒ± a√ßtƒ±n!'],'redstone-math':['üìê','Kƒ±zƒ±lta≈ü Hesap Makinesi','Mat testlerinde 100 doƒüruya ula≈ütƒ±n!'],'enchant-translator':['üìñ','B√ºy√º Masasƒ± √áevirmeni','T√ºrk√ßede 3 testi hatasƒ±z bitirdin!'],'brewing-science':['üß™','ƒ∞ksir Tezgahƒ±','Fen sorularƒ±ndan 50 tane √ß√∂zd√ºn!'],'ancient-history':['üìú','Antik Kalƒ±ntƒ±','Sosyal/ƒ∞nkƒ±lap konularƒ±nƒ± tamamladƒ±n!'],'wandering-english':['üåç','Gezgin T√ºccar','ƒ∞ngilizce testlerinde 500 XP topladƒ±n!'],'totem-religion':['üåô','√ñl√ºms√ºzl√ºk Totemi','Din testlerinde 5 ardƒ±≈üƒ±k %100!'],'speed-potion-2':['‚òÑÔ∏è','Hƒ±z ƒ∞ksiri II','Hƒ±zda 15 sn altƒ±nda soru √ß√∂zd√ºn!'],'mending-book':['üõ†Ô∏è','Tamir B√ºy√ºs√º','20 yanlƒ±≈üƒ± doƒüruya √ßevirdin!'],'phantom-hunter':['ü¶á','Fantom Avcƒ±sƒ±','Gece 22:00 sonrasƒ± 1 saat odak!'],'sunrise-clock':['üåÖ','G√ºndoƒüumu','07:00 √∂ncesi giri≈ü yapƒ±p g√∂rev bitirdin!'],'mining-fatigue':['‚õèÔ∏è','Madenci Yorgunluƒüu','Tek oturumda 3 saat √ßalƒ±≈ütƒ±n!'],'respawn-anchor':['‚öì','Yeniden Doƒüma √áapasƒ±','Denemede 20 net artƒ±≈üƒ± yakaladƒ±n!'],'emerald-block':['üü©','Z√ºmr√ºt Bloƒüu','C√ºzdanda 5000 XP biriktirdin!'],'item-frame':['üñºÔ∏è','Koleksiyoncu','5 farklƒ± kategoride market alƒ±≈üƒ±!'],'dye-crafter':['üé®','Boya Ustasƒ±','T√ºm temalarƒ± kullandƒ±n!'],'unbreaking-3':['üõ°Ô∏è','Kƒ±rƒ±lmazlƒ±k III','30 g√ºn kesintisiz ziyaret!'],'the-void':['üåå','Hi√ßlik (The Void)','Plansƒ±z ekstra konu √ßalƒ±≈ütƒ±n!'],'netherite-upgrade':['ü™®','Netherit Y√ºkseltmesi','3 denemede √ºst √ºste 80 net!'],'warden-slayer':['üëπ','Warden Avcƒ±sƒ±','T√ºm zor MEB konularƒ±nƒ± bitirdin!'],'elytra-flight':['ü™Ω','Elytra','Hƒ±zda 50 soruyu sƒ±fƒ±r hatayla ge√ßtin!'],'campfire-rest':['üî•','Kamp Ate≈üi','4 pomodoro + 1 uzun mola d√∂ng√ºs√º!'],'clock-sync':['‚è∞','Saat','3 g√ºn √ºst √ºste zamanƒ±nda ba≈üladƒ±n!'],'spyglass-focus':['üî≠','D√ºrb√ºn','Tek derste 150 soru √ß√∂zd√ºn!'],'glowstone-night':['üí°','I≈üƒ±kta≈üƒ±','Gece yarƒ±sƒ± 50 netli deneme bitirdin!'],'slimeball-stuck':['üü©','Bal√ßƒ±k Topu','ƒ∞lk soruyu sorulacaklara ekledin!'],'observer-stats':['üëÅÔ∏è','G√∂zlemci','10 dk hata analizi yaptƒ±n!'],'golden-apple':['üçé','Altƒ±n Elma','3 yanlƒ±≈ü sonrasƒ± 5 ardƒ±≈üƒ±k doƒüru!'],'enchanted-apple':['üåü','B√ºy√ºl√º Altƒ±n Elma','Tek g√ºnde 500 soru barajƒ±!'],'shield-defense':['üõ°Ô∏è','Kalkan','Zayƒ±f derste yanlƒ±≈ülarƒ± yarƒ±ya indirdin!'],'anvil-repair':['üóúÔ∏è','√ñrs','Zor seviye 5 test tamamladƒ±n!'],'compass-nav':['üß≠','Pusula','Haftalƒ±k programƒ± eksiksiz olu≈üturdun!'],'shulker-box':['üß∞','Shulker Kutusu','50 soru kaydettin!'],'note-block':['üéµ','Nota Bloƒüu','Odak m√ºziƒüini 10 kez aktifle≈ütirdin!'],'command-block':['‚öôÔ∏è','Komut Bloƒüu','Ayarlarda 3 deƒüi≈üiklik yaptƒ±n!'],'jukebox-party':['üìª','M√ºzik Kutusu','Haftalƒ±k hedeflerin %100\'√ºn√º tamamladƒ±n!'],'bookshelf-meb':['üìö','Kitaplƒ±k','MEB sorularƒ±nƒ±n yarƒ±sƒ±nƒ± bitirdin!'],'ender-pearl':['üîÆ','Ender ƒ∞ncisi','10 soruyu 5 dk\'da √ß√∂zd√ºn!'],'chorus-fruit':['üå∫','Koro Meyvesi','Konfor alanƒ±ndan √ßƒ±kƒ±p 2 ekstra test!'],'trident-loyalty':['üî±','Sadakat Mƒ±zraƒüƒ±','60 g√ºn kesintisiz giri≈ü!'],'nether-star':['‚≠ê','Nether Yƒ±ldƒ±zƒ±','T√ºrkiye Geneli denemesini sisteme girdin!']};

        function checkAndUnlock(id) {
            if (appData.achievements[id]) return false;
            const dep=ACH_DEPS[id]; if(dep&&!appData.achievements[dep]) return false;
            appData.achievements[id]=true;
            const xp=ACH_XP[id]||0;
            if(xp>0){appData.xpTotal+=xp;appData.xpBalance+=xp;}
            saveData(appData); updateHeader(); _showAchToast(id,xp);
            setTimeout(()=>renderMap(), 200);
            if(id!=='lgs-slayer'){const all=Object.keys(ACH_DEPS).filter(k=>k!=='lgs-slayer');if(all.every(k=>appData.achievements[k]))setTimeout(()=>checkAndUnlock('lgs-slayer'),1200);}
            return true;
        }
        function _showAchToast(id,xp) {
            const info=ACH_NAMES[id]; if(!info) return;
            let c=document.getElementById('_ach-toast-container');
            if(!c){c=document.createElement('div');c.id='_ach-toast-container';c.style.cssText='position:fixed;bottom:80px;left:50%;transform:translateX(-50%);z-index:99999;display:flex;flex-direction:column;gap:10px;align-items:center;pointer-events:none;';document.body.appendChild(c);}
            const t=document.createElement('div');
            t.style.cssText='background:#000;border:2px solid #ffaa00;border-radius:14px;padding:14px 22px;display:flex;align-items:center;gap:14px;box-shadow:0 0 28px rgba(255,170,0,0.5);opacity:0;transform:translateY(24px) scale(0.95);transition:opacity 0.35s ease,transform 0.35s cubic-bezier(0.34,1.56,0.64,1);max-width:420px;min-width:280px;';
            t.innerHTML=`<div style="font-size:32px">${info[0]}</div><div><div style="font-size:9px;color:#ffaa00;font-weight:bold;letter-spacing:2px;text-transform:uppercase;margin-bottom:3px;">üèÜ BA≈ûARIM A√áILDI!</div><div style="font-size:14px;font-weight:bold;color:#fff;margin-bottom:2px;">${info[1]}</div><div style="font-size:11px;color:#666;">${info[2]}</div></div>${xp>0?`<div style="font-size:13px;font-weight:bold;color:#ffaa00;white-space:nowrap;margin-left:auto;">+${xp} XP</div>`:''}`;
            c.appendChild(t);
            requestAnimationFrame(()=>requestAnimationFrame(()=>{t.style.opacity='1';t.style.transform='translateY(0) scale(1)';}));
            setTimeout(()=>{t.style.opacity='0';t.style.transform='translateY(-12px) scale(0.96)';setTimeout(()=>t.remove(),400);},3500);
        }

        /* ‚îÄ‚îÄ SAYFA Zƒ∞YARET ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        const ALL_PAGES = ['index','meb','deneme','hiz','achievements'];
        function registerPage(p) {
            if (!appData.visitedPages.includes(p)) { appData.visitedPages.push(p); saveData(appData); }
            if (ALL_PAGES.every(x=>appData.visitedPages.includes(x))) checkAndUnlock('haritaci');
        }

        /* ‚îÄ‚îÄ TEMA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        const themes=['','theme-cyan','theme-purple','theme-green'];
        function applyTheme(){document.body.className=themes[appData.themeIdx]||'';}
        function cycleTheme(){appData.themeIdx=(appData.themeIdx+1)%themes.length;saveData(appData);applyTheme();}

        /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        function updateHeader() {
            const level=Math.floor(appData.xpTotal/100)+1;
            document.getElementById('level').innerText=level;
            document.getElementById('xp-balance').innerText=appData.xpBalance;
            document.getElementById('header-xp-bar').style.width=(appData.xpTotal%100)+'%';
            const ranks=['√áAYLAK','DENEYƒ∞MLƒ∞','USTA','FENLƒ∞SELƒ∞','EFSANE'];
            document.getElementById('rank-name').innerText=ranks[Math.min(level-1,4)];
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           BA≈ûARIM HARƒ∞TASI VERƒ∞Sƒ∞ (ACH_DATA ile senkron)
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        const ACH_DATA = [
            /* ‚ïê‚ïê ESKƒ∞ 20 BA≈ûARIM (koordinatlar korundu) ‚ïê‚ïê */
            {id:'crafting-table',name:'Odun √áaƒüƒ±',       icon:'ü™µ',tip:'Ba≈ülangƒ±√ß',desc:'Sisteme ilk i√ßeriƒüini gir.',             x:955, y:60,  requires:null,             secret:false},
            {id:'stone-age',     name:'Ta≈ü Devri',        icon:'‚õèÔ∏è',tip:'Normal',   desc:'Toplam 10 g√∂rev tamamla.',              x:80,  y:260, requires:'crafting-table', secret:false},
            {id:'iron-armor',    name:'Demir Zƒ±rh',       icon:'üõ°Ô∏è',tip:'Normal',   desc:'Bir denemede 50 net barajƒ±nƒ± ge√ß.',      x:80,  y:480, requires:'stone-age',      secret:false},
            {id:'diamond-ore',   name:'ELMAS!!!',         icon:'üíé',tip:'Zor',      desc:'Bir denemede 80 net √ºst√º yap.',          x:80,  y:700, requires:'iron-armor',     secret:false},
            {id:'enchanting',    name:'B√ºy√º Masasƒ±',      icon:'üìñ',tip:'Zor',      desc:'Toplamda 1000 soru √ß√∂z.',                x:80,  y:920, requires:'diamond-ore',    secret:false},
            {id:'dragon-breath', name:'Ejderha Nefesi',   icon:'üê≤',tip:'Efsanevi', desc:'MEB listesindeki t√ºm konularƒ± tamamla.', x:80,  y:1140,requires:'enchanting',    secret:false},
            {id:'speedrunner',   name:'Speedrunner',      icon:'‚ö°',tip:'Zor',      desc:'Hƒ±z modunda 20 soruyu 10 dk altƒ±nda.',   x:360, y:700, requires:'iron-armor',     secret:false},
            {id:'invis-potion',  name:'G√∂r√ºnmezlik ƒ∞ksiri',icon:'üå´Ô∏è',tip:'Gizli',  desc:'Odak sayacƒ±nƒ± 120 dk √ßalƒ±≈ütƒ±r.',         x:360, y:920, requires:'speedrunner',    secret:true },
            {id:'firin-ustasi',  name:'Fƒ±rƒ±ncƒ±',          icon:'üçû',tip:'Normal',   desc:'Marketten ilk Yemek/Enerji al.',         x:660, y:260, requires:'crafting-table', secret:false},
            {id:'potion-master', name:'ƒ∞ksir Ustasƒ±',     icon:'üß™',tip:'Normal',   desc:'Marketten 10 kez Kahve/ƒ∞√ßecek al.',      x:660, y:480, requires:'firin-ustasi',   secret:false},
            {id:'trade-center',  name:'Ticaret Merkezi',  icon:'üí∞',tip:'Normal',   desc:'Marketten toplam 2000 XP harca.',        x:660, y:700, requires:'potion-master',  secret:false},
            {id:'haritaci',      name:'Haritacƒ±',         icon:'üó∫Ô∏è',tip:'Sistemsel',desc:'T√ºm sayfalarƒ± en az bir kez ke≈üfet.',    x:980, y:260, requires:'crafting-table', secret:false},
            {id:'redstone-eng',  name:'Kƒ±zƒ±lta≈ü M√ºhendisi',icon:'‚öôÔ∏è',tip:'Normal', desc:'Haftalƒ±k planƒ±nƒ± eksiksiz doldur.',      x:980, y:480, requires:'haritaci',       secret:false},
            {id:'beacon-light',  name:'Fener (Beacon)',   icon:'üóº',tip:'Efsanevi', desc:'10. Seviyeye ula≈ü.',                     x:980, y:700, requires:'redstone-eng',   secret:false},
            {id:'villager-friend',name:'K√∂yl√º Dostu',     icon:'üßë‚Äçüåæ',tip:'Normal',desc:'5 g√ºn √ºst √ºste sisteme giri≈ü yap.',      x:980, y:920, requires:'beacon-light',   secret:false},
            {id:'world-traveler',name:'D√ºnya Gezgini',    icon:'üåç',tip:'Gizli',    desc:'Ba≈üarƒ±mlar sayfasƒ±nƒ± 50 kez a√ß.',        x:980, y:1140,requires:'villager-friend', secret:true },
            {id:'monster-hunter',name:'Canavar Avcƒ±sƒ±',   icon:'‚öîÔ∏è',tip:'Normal',  desc:'ƒ∞lk Boss g√∂revini tamamla.',             x:1300,y:260, requires:'crafting-table', secret:false},
            {id:'wither-slayer', name:'Wither Avcƒ±sƒ±',    icon:'üíÄ',tip:'Zor',      desc:'10 tane Boss g√∂revi tamamla.',           x:1300,y:480, requires:'monster-hunter', secret:false},
            {id:'hardcore-mode', name:'Hardcore Mod',     icon:'üíî',tip:'Gizli',    desc:'Bir hafta hi√ß g√∂rev sektirmeden ilerle.',x:1560,y:700, requires:'wither-slayer',  secret:true },
            {id:'lgs-slayer',    name:'LGS Slayer',       icon:'üëë',tip:'Final',    desc:'Diƒüer t√ºm ba≈üarƒ±mlarƒ± a√ß.',              x:1550,y:1400,requires:'dragon-breath',  secret:true },

            /* ‚ïê‚ïê YENƒ∞ 20 BA≈ûARIM ‚ïê‚ïê */
            /* ‚Äî DERS & BRAN≈û DALI (saƒü s√ºtun x:1700-2000) ‚Äî */
            {id:'redstone-math',    name:'Kƒ±zƒ±lta≈ü Hesap M.',icon:'üìê',tip:'Zor',      desc:'Mat testlerinde 100 doƒüruya ula≈ü.',       x:1700,y:260, requires:'stone-age',       secret:false},
            {id:'enchant-translator',name:'B√ºy√º √áevirmeni',  icon:'üìñ',tip:'Zor',      desc:'T√ºrk√ßede 3 testi sƒ±fƒ±r yanlƒ±≈ü bitir.',    x:1700,y:480, requires:'stone-age',       secret:false},
            {id:'brewing-science',  name:'ƒ∞ksir Tezgahƒ±',    icon:'üß™',tip:'Normal',   desc:'Fen sorularƒ±ndan 50 tane √ß√∂z.',           x:1700,y:700, requires:'potion-master',   secret:false},
            {id:'wandering-english',name:'Gezgin T√ºccar',    icon:'üåç',tip:'Normal',   desc:'ƒ∞ngilizce testlerinde 500 XP topla.',     x:1700,y:920, requires:'haritaci',        secret:false},
            {id:'totem-religion',   name:'√ñl√ºms√ºzl√ºk Totemi',icon:'üåô',tip:'Zor',      desc:'Din testlerinde 5 ardƒ±≈üƒ±k %100 yap.',     x:1700,y:1140,requires:'dragon-breath',   secret:false},
            {id:'ancient-history',  name:'Antik Kalƒ±ntƒ±',    icon:'üìú',tip:'Efsanevi', desc:'Sosyal/ƒ∞nkƒ±lap konularƒ±nƒ± tamamla.',      x:1960,y:1140,requires:'dragon-breath',   secret:false},

            /* ‚Äî PERFORMANS & HIZ DALI (x:360-660, y:1140+) ‚Äî */
            {id:'speed-potion-2',   name:'Hƒ±z ƒ∞ksiri II',    icon:'‚òÑÔ∏è',tip:'Normal',   desc:'Hƒ±zda ort. 15 sn altƒ±nda √ß√∂z.',           x:360, y:1140,requires:'speedrunner',     secret:false},
            {id:'elytra-flight',    name:'Elytra',           icon:'ü™Ω',tip:'Zor',      desc:'Hƒ±zda 50 soruyu sƒ±fƒ±r hatayla ge√ß.',      x:580, y:1340,requires:'speedrunner',     secret:false},
            {id:'mending-book',     name:'Tamir B√ºy√ºs√º',     icon:'üõ†Ô∏è',tip:'Zor',      desc:'20 yanlƒ±≈üƒ± tekrar doƒüruya √ßevir.',        x:360, y:1340,requires:'speedrunner',     secret:false},

            /* ‚Äî GECE/SABAH DALI (x:1100-1400, y:1340+) ‚Äî */
            {id:'phantom-hunter',   name:'Fantom Avcƒ±sƒ±',    icon:'ü¶á',tip:'Gizli',    desc:'Gece 22:00+ sonrasƒ± 1 saat odak.',        x:1100,y:1340,requires:'invis-potion',    secret:true },
            {id:'mining-fatigue',   name:'Madenci Yorgunluƒüu',icon:'‚õèÔ∏è',tip:'Efsanevi',desc:'Tek oturumda 3 saat kesintisiz √ßalƒ±≈ü.',   x:1300,y:1140,requires:'invis-potion',    secret:false},
            {id:'sunrise-clock',    name:'G√ºndoƒüumu',        icon:'üåÖ',tip:'Normal',   desc:'07:00 √∂ncesi giri≈ü yapƒ±p g√∂rev bitir.',   x:1100,y:1140,requires:'villager-friend',  secret:false},
            {id:'unbreaking-3',     name:'Kƒ±rƒ±lmazlƒ±k III',  icon:'üõ°Ô∏è',tip:'Efsanevi', desc:'30 g√ºn kesintisiz ziyaret et.',           x:1300,y:1340,requires:'villager-friend',  secret:false},

            /* ‚Äî MARKET GENƒ∞≈ûLEME DALI (x:660-900, y:920+) ‚Äî */
            {id:'item-frame',       name:'Koleksiyoncu',     icon:'üñºÔ∏è',tip:'Normal',   desc:'5 farklƒ± kategoride market alƒ±≈üƒ± yap.',   x:660, y:920, requires:'firin-ustasi',    secret:false},
            {id:'emerald-block',    name:'Z√ºmr√ºt Bloƒüu',     icon:'üü©',tip:'Efsanevi', desc:'C√ºzdanda aynƒ± anda 5000 XP biriktir.',   x:660, y:1140,requires:'trade-center',    secret:false},
            {id:'dye-crafter',      name:'Boya Ustasƒ±',      icon:'üé®',tip:'Sistemsel',desc:'T√ºm temalarƒ± en az 1 kez kullan.',        x:800, y:480, requires:'haritaci',        secret:false},

            /* ‚Äî DENEM E & NETHERƒ∞T DALI (x:220-440, y:1340+) ‚Äî */
            {id:'respawn-anchor',   name:'Yeniden Doƒüma',    icon:'‚öì',tip:'Gizli',    desc:'Denemede 20 net artƒ±≈üƒ± yakala.',          x:220, y:1340,requires:'diamond-ore',     secret:true },
            {id:'netherite-upgrade',name:'Netherit Y√ºkseltme',icon:'ü™®',tip:'Zor',     desc:'3 denemede √ºst √ºste 80 net yap.',         x:80,  y:1560,requires:'diamond-ore',     secret:false},

            /* ‚Äî Gƒ∞ZLƒ∞ & BOSS (x:1500-1800, y:900+) ‚Äî */
            {id:'the-void',         name:'Hi√ßlik (The Void)',icon:'üåå',tip:'Gizli',    desc:'Plansƒ±z ekstra bir konu √ßalƒ±≈ü.',          x:1500,y:920, requires:'redstone-eng',    secret:true },
            {id:'warden-slayer',    name:'Warden Avcƒ±sƒ±',    icon:'üëπ',tip:'Efsanevi', desc:'T√ºm zor MEB konularƒ±nƒ± bitir.',           x:1960,y:920, requires:'dragon-breath',   secret:false},

            /* ‚ïê‚ïê 3. B√ñL√úM: 20 YENƒ∞ BA≈ûARIM ‚ïê‚ïê */
            /* ‚Äî ZAMAN & ODAK DALI (x:2200-2500, y:60-700) ‚Äî */
            {id:'campfire-rest',    name:'Kamp Ate≈üi',       icon:'üî•',tip:'Normal',   desc:'4 pomodoro + 1 uzun mola d√∂ng√ºs√ºn√º bitir.',  x:2200,y:60,  requires:'invis-potion',    secret:false},
            {id:'clock-sync',       name:'Saat',             icon:'‚è∞',tip:'Zor',       desc:'3 g√ºn √ºst √ºste zamanƒ±nda √ßalƒ±≈ümaya ba≈üla.',  x:2200,y:260, requires:'villager-friend', secret:false},
            {id:'spyglass-focus',   name:'D√ºrb√ºn',           icon:'üî≠',tip:'Zor',       desc:'Tek derste aralƒ±ksƒ±z 150 soru √ß√∂z.',         x:2200,y:480, requires:'mining-fatigue',  secret:false},
            {id:'glowstone-night',  name:'I≈üƒ±kta≈üƒ±',         icon:'üí°',tip:'Gizli',     desc:'Gece yarƒ±sƒ± 00:00-02:00 arasƒ± 50 netli deneme.', x:2200,y:700,requires:'phantom-hunter', secret:true },

            /* ‚Äî GELƒ∞≈ûƒ∞M & ANALƒ∞Z DALI (x:2500-2800, y:60-700) ‚Äî */
            {id:'slimeball-stuck',  name:'Bal√ßƒ±k Topu',      icon:'üü©',tip:'Ba≈ülangƒ±√ß', desc:'Zor bir soruyu "Sorulacaklar" listesine ekle.', x:2500,y:60,  requires:'crafting-table',  secret:false},
            {id:'observer-stats',   name:'G√∂zlemci',         icon:'üëÅÔ∏è',tip:'Normal',   desc:'Hatalarƒ±nƒ± incelemek i√ßin 10 dk analiz yap.',  x:2500,y:260, requires:'slimeball-stuck',  secret:false},
            {id:'golden-apple',     name:'Altƒ±n Elma',       icon:'üçé',tip:'Zor',       desc:'3 yanlƒ±≈ü sonrasƒ± toparlanƒ±p 5 ardƒ±≈üƒ±k doƒüru.', x:2500,y:480, requires:'respawn-anchor',   secret:false},
            {id:'enchanted-apple',  name:'B√ºy√ºl√º Altƒ±n Elma',icon:'üåü',tip:'Efsanevi',  desc:'Tek g√ºnde 500 soru barajƒ±nƒ± a≈ü.',             x:2500,y:700, requires:'golden-apple',     secret:false},
            {id:'shield-defense',   name:'Kalkan',           icon:'üõ°Ô∏è',tip:'Zor',      desc:'En √ßok yanlƒ±≈ü yaptƒ±ƒüƒ±n derste yarƒ±ya indir.', x:2500,y:920, requires:'enchanted-apple',  secret:false},
            {id:'anvil-repair',     name:'√ñrs',              icon:'üóúÔ∏è',tip:'Zor',       desc:'Sadece Zor sorulardan 5 farklƒ± test bitir.',  x:2500,y:1140,requires:'shield-defense',   secret:false},

            /* ‚Äî EKƒ∞PMAN & Sƒ∞STEM DALI (x:2200-2500, y:920-1560) ‚Äî */
            {id:'compass-nav',      name:'Pusula',           icon:'üß≠',tip:'Sistemsel', desc:'Haftalƒ±k programƒ±nƒ± ilk kez eksiksiz olu≈ütur.',x:2200,y:920, requires:'redstone-eng',    secret:false},
            {id:'shulker-box',      name:'Shulker Kutusu',   icon:'üß∞',tip:'Normal',    desc:'Dijital √ßantana 50 farklƒ± soru kaydet.',      x:2200,y:1140,requires:'compass-nav',       secret:false},
            {id:'note-block',       name:'Nota Bloƒüu',       icon:'üéµ',tip:'Sistemsel', desc:'Odak m√ºziƒüini 10 kez aktifle≈ütir.',           x:2200,y:1340,requires:'campfire-rest',     secret:false},
            {id:'command-block',    name:'Komut Bloƒüu',      icon:'‚öôÔ∏è',tip:'Sistemsel', desc:'Ayarlar men√ºs√ºnde 3 farklƒ± deƒüi≈üiklik yap.',  x:2200,y:1560,requires:'dye-crafter',       secret:false},
            {id:'jukebox-party',    name:'M√ºzik Kutusu',     icon:'üìª',tip:'Normal',    desc:'Haftalƒ±k hedeflerin %100\'√ºn√º tamamla.',      x:2500,y:1340,requires:'redstone-eng',       secret:false},

            /* ‚Äî BOSS & Fƒ∞NAL DALI (x:2700-3000, y:1000-1800) ‚Äî */
            {id:'bookshelf-meb',    name:'Kitaplƒ±k',         icon:'üìö',tip:'Efsanevi',  desc:'MEB √∂rnek sorularƒ±nƒ±n yarƒ±sƒ±nƒ± bitir.',       x:2800,y:920, requires:'dragon-breath',    secret:false},
            {id:'ender-pearl',      name:'Ender ƒ∞ncisi',     icon:'üîÆ',tip:'Efsanevi',  desc:'Hƒ±zda 10 soruyu toplam 5 dakikada bitir.',    x:2800,y:1140,requires:'speedrunner',       secret:false},
            {id:'chorus-fruit',     name:'Koro Meyvesi',     icon:'üå∫',tip:'Gizli',     desc:'En az sevdiƒüin bran≈ütan 2 ekstra test.',      x:2800,y:1340,requires:'brewing-science',   secret:true },
            {id:'trident-loyalty',  name:'Sadakat Mƒ±zraƒüƒ±',  icon:'üî±',tip:'Efsanevi',  desc:'60 g√ºn boyunca her g√ºn sisteme giri≈ü yap.',  x:2800,y:1560,requires:'unbreaking-3',      secret:false},
            {id:'nether-star',      name:'Nether Yƒ±ldƒ±zƒ±',   icon:'‚≠ê',tip:'Final',      desc:'T√ºrkiye Geneli LGS denemesini sisteme gir.',  x:2800,y:1800,requires:'trident-loyalty',   secret:true },
        ];

        const ACH_MAP = {};
        ACH_DATA.forEach(a=>ACH_MAP[a.id]=a);

        const BADGE_CLASS = {
            'Ba≈ülangƒ±√ß':'badge-normal','Normal':'badge-normal','Zor':'badge-zor',
            'Efsanevi':'badge-efsanevi','Gizli':'badge-gizli','Sistemsel':'badge-sistemsel','Final':'badge-final'
        };

        function getRank(n) {
            if(n>=60)  return 'LGS Sona Erdi üåå';
            if(n>=50)  return 'Nether Yƒ±ldƒ±zƒ± ‚≠ê';
            if(n>=40)  return 'End King üëë';
            if(n>=30)  return 'Nether ƒ∞mparatoru üåÄ';
            if(n>=20)  return 'Elmas Lord üíé';
            if(n>=12)  return 'Demir Sava≈ü√ßƒ± üõ°Ô∏è';
            if(n>=6)   return 'Ta≈ü Ustasƒ± ‚õèÔ∏è';
            if(n>=1)   return 'Acemi Madenci ü™ì';
            return 'Sƒ±radan K√∂yl√º üåæ';
        }

        /* ‚îÄ‚îÄ HARƒ∞TA RENDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        function renderMap() {
            const canvas=document.getElementById('map-canvas');
            const svg=document.getElementById('connectors-svg');
            const ach=appData.achievements;
            canvas.querySelectorAll('.ach-node,.map-zone-label').forEach(n=>n.remove());
            svg.innerHTML='';

            /* SVG baƒülantƒ±lar */
            ACH_DATA.forEach(a=>{
                if(!a.requires) return;
                const parent=ACH_MAP[a.requires]; if(!parent) return;
                const bothOpen=ach[a.id]&&ach[parent.id];
                const d=`M ${parent.x+45} ${parent.y+34} L ${parent.x+45} ${a.y+34} L ${a.x+45} ${a.y+34}`;
                const path=document.createElementNS('http://www.w3.org/2000/svg','path');
                path.setAttribute('d',d);
                path.setAttribute('class',bothOpen?'conn-unlocked':'conn-locked');
                svg.appendChild(path);
            });

            /* D√ºƒü√ºmler */
            let openCount=0;
            ACH_DATA.forEach(a=>{
                const isOpen=!!ach[a.id];
                const isHidden=a.secret&&!isOpen;
                const isFinal=a.tip==='Final';
                if(isOpen) openCount++;

                const node=document.createElement('div');
                let cls='ach-node ';
                cls+=isOpen?'unlocked ':'locked ';
                if(isOpen&&a.secret&&!isFinal) cls+='secret ';
                if(isOpen&&isFinal)            cls+='final ';
                if(isHidden)                   cls+='hidden-locked ';
                node.className=cls.trim();
                node.style.left=a.x+'px'; node.style.top=a.y+'px';
                node.innerHTML=`<div class="ach-box">${isHidden?'‚ùì':a.icon}</div><div class="ach-name">${isHidden?'???':a.name}</div><div class="ach-badge ${BADGE_CLASS[a.tip]||'badge-normal'}">${isHidden?'???':a.tip}</div>`;
                node.addEventListener('mouseenter',e=>showTooltip(e,a,isOpen,isHidden));
                node.addEventListener('mousemove',e=>moveTooltip(e));
                node.addEventListener('mouseleave',hideTooltip);
                canvas.appendChild(node);
            });

            /* Zone etiketleri */
            [{text:'SAVA≈û & DENEME',x:20,y:200},{text:'HIZ KOLU',x:300,y:640},{text:'MARKET & EƒûLENCE',x:580,y:200},{text:'Sƒ∞STEM & PLAN',x:900,y:200},{text:'BOSS Zƒ∞NCƒ∞Rƒ∞',x:1240,y:200},{text:'DERS DALLARI',x:1640,y:200},{text:'GECE & SABAH',x:1080,y:1080},{text:'DENEME & NETHERƒ∞T',x:20,y:1500},{text:'ZAMAN & ODAK',x:2140,y:20},{text:'GELƒ∞≈ûƒ∞M & ANALƒ∞Z',x:2440,y:20},{text:'EKƒ∞PMAN & Sƒ∞STEM',x:2140,y:860},{text:'BOSS & Fƒ∞NAL',x:2740,y:860}].forEach(z=>{
                const el=document.createElement('div'); el.className='map-zone-label'; el.style.cssText=`left:${z.x}px;top:${z.y}px`; el.textContent=z.text; canvas.appendChild(el);
            });

            /* Alt bar */
            const pct=Math.round((openCount/60)*100);
            document.getElementById('mc-rank-text').textContent=`R√ºtbe: ${getRank(openCount)}`;
            document.getElementById('mc-open-count').textContent=openCount;
            document.getElementById('rank-progress-fill').style.width=pct+'%';
        }

        /* ‚îÄ‚îÄ TOOLTIP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        function showTooltip(e,a,isOpen,isHidden) {
            const t=document.getElementById('mc-tooltip');
            document.getElementById('tooltip-icon').textContent=isHidden?'‚ùì':a.icon;
            const titleEl=document.getElementById('tooltip-title');
            titleEl.textContent=isHidden?'Gizli Ba≈üarƒ±m':a.name;
            titleEl.style.color=isOpen?(a.tip==='Final'?'var(--mc-purple)':a.secret?'var(--mc-gold)':'var(--mc-green)'):'#aaa';
            document.getElementById('tooltip-desc').textContent=isHidden?'Daha fazla ilerle...':a.desc;
            const st=document.getElementById('tooltip-status');
            if(isHidden||!isOpen){st.textContent='üîí Kilitli';st.className='tooltip-status ts-locked';}
            else if(a.tip==='Final'){st.textContent='‚ú® A√áIK ‚Äî Final';st.className='tooltip-status ts-final';}
            else if(a.secret){st.textContent='‚ú® A√áIK ‚Äî Gizli';st.className='tooltip-status ts-secret';}
            else{st.textContent='‚úÖ A√áIK';st.className='tooltip-status ts-open';}
            t.classList.add('show'); moveTooltip(e);
        }
        function moveTooltip(e) {
            const t=document.getElementById('mc-tooltip');
            let lx=e.clientX+18,ly=e.clientY+14;
            if(lx+270>window.innerWidth) lx=e.clientX-278;
            if(ly+150>window.innerHeight) ly=e.clientY-158;
            t.style.left=lx+'px'; t.style.top=ly+'px';
        }
        function hideTooltip(){document.getElementById('mc-tooltip').classList.remove('show');}

        /* ‚îÄ‚îÄ DRAG GEZƒ∞NME ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        (function(){
            const vp=document.getElementById('map-viewport');
            let drag=false,sx,sy,sl,st;
            vp.addEventListener('mousedown',e=>{if(e.target.closest('.ach-node'))return;drag=true;sx=e.pageX-vp.offsetLeft;sy=e.pageY-vp.offsetTop;sl=vp.scrollLeft;st=vp.scrollTop;});
            vp.addEventListener('mouseleave',()=>drag=false);
            vp.addEventListener('mouseup',()=>drag=false);
            vp.addEventListener('mousemove',e=>{if(!drag)return;e.preventDefault();vp.scrollLeft=sl-(e.pageX-vp.offsetLeft-sx);vp.scrollTop=st-(e.pageY-vp.offsetTop-sy);});
        })();

        function centerOnRoot() {
            const vp=document.getElementById('map-viewport');
            const root=ACH_MAP['crafting-table'];
            vp.scrollLeft=root.x+45-vp.clientWidth/2;
            vp.scrollTop=Math.max(0,root.y-80);
        }

        /* ‚îÄ‚îÄ BA≈ûLANGI√á ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        applyTheme(); updateHeader(); renderMap();
        requestAnimationFrame(centerOnRoot);

        /* Sayfa ziyareti kaydet */
        registerPage('achievements');

        /* world-traveler: Bu sayfa her a√ßƒ±lƒ±≈üta +1 sayƒ±lƒ±r */
        appData.achievementOpenCount = (appData.achievementOpenCount||0) + 1;
        if (appData.achievementOpenCount >= 50) {
            checkAndUnlock('world-traveler');
        }
        saveData(appData);
    </script>
</body>
</html>

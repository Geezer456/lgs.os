<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deneme Analizi Â· LGS.OS</title>
    <style>
        :root {
            --primary: #ff8800; --primary-glow: rgba(255,136,0,0.6);
            --bg: #050505; --card: rgba(15, 15, 15, 0.6); --text: #ddd; --accent: #00ff88;
            --header-bg: #000; --danger: #ff3333;
            --mc-green: #55ff55; --mc-green-glow: rgba(85,255,85,0.8);
            --mc-purple: #aa00ff; --mc-gold: #ffaa00;
        }
        body.theme-cyan   { --primary:#00f2ff; --primary-glow:rgba(0,242,255,0.6); }
        body.theme-purple { --primary:#bc13fe; --primary-glow:rgba(188,19,254,0.6); }
        body.theme-green  { --primary:#39ff14; --primary-glow:rgba(57,255,20,0.6); }
        * { box-sizing:border-box; }
        body {
            background-color: #050505;
            /* Kareli Arka Plan Deseni */
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
    
            /* ESKÄ° YAZI STÄ°LÄ°NÄ° GERÄ° GETÄ°REN SATIR */
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            color: var(--text);
            margin: 0; /* Sayfa kenarlarÄ±ndaki boÅŸluÄŸu sÄ±fÄ±rlar */
}
        .top-header { width:100%; height:60px; background-color:var(--header-bg); border-bottom:2px solid #222; display:flex; align-items:center; justify-content:space-between; padding:0 20px; position:sticky; top:0; z-index:1000; }
        .logo { color:var(--primary); font-weight:bold; font-size:20px; letter-spacing:2px; text-shadow:0 0 10px var(--primary-glow); }
        .header-stats { display:flex; align-items:center; gap:12px; width:380px; }
        .lvl-box { font-weight:bold; color:var(--primary); font-size:14px; }
        .header-xp-container { flex:1; height:10px; background:#222; border-radius:5px; overflow:hidden; border:1px solid #333; }
        #header-xp-bar { height:100%; background:var(--primary); width:0%; transition:width 0.5s ease; box-shadow:0 0 8px var(--primary); }
        .rank-tag { font-size:10px; background:var(--primary); color:#000; padding:2px 6px; border-radius:4px; font-weight:bold; white-space:nowrap; }
        button, .nav-link { padding:6px 10px; font-size:10px; border:1px solid var(--primary); background:transparent; color:var(--primary); cursor:pointer; font-weight:bold; transition:0.3s; border-radius:12px !important; text-decoration:none; display:inline-block; line-height:normal; white-space:nowrap; }
        button:hover, .nav-link:hover { background:var(--primary); color:#000; box-shadow:0 0 8px var(--primary-glow); }
        .nav-link.active-page { background:var(--primary); color:#000; box-shadow:0 0 10px var(--primary-glow); }
        .nav-link.achievements-link { border-color:var(--mc-green); color:var(--mc-green); box-shadow:0 0 10px var(--mc-green-glow); }
        .nav-link.achievements-link:hover { background:var(--mc-green); color:#000; }
        input[type="text"],input[type="number"],select { background:#000; border:1px solid #333; color:#fff; padding:6px; font-size:11px; border-radius:12px !important; }
        .analiz-container { background:var(--card); border:2px solid #222; border-radius:12px; padding:20px; margin-bottom:15px; transition:all 0.3s ease; }
        .analiz-container:hover { border-color:var(--primary); box-shadow:0 0 10px var(--primary-glow); }
        .page-title { font-size:26px; font-weight:bold; color:var(--primary); text-shadow:0 0 15px var(--primary-glow),0 0 30px var(--primary-glow); letter-spacing:3px; margin:0 0 6px 0; text-align:center; }
        .page-subtitle { color:#555; font-size:11px; margin:0 0 25px 0; text-align:center; letter-spacing:1px; }
        .deneme-name-input { width:100%; padding:10px; font-size:13px; margin-bottom:15px; border:1px solid #333; background:#000; color:#fff; border-radius:12px !important; transition:0.3s; }
        .deneme-name-input:focus { outline:none; border-color:var(--primary); box-shadow:0 0 8px var(--primary-glow); }
        .deneme-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:15px; margin-bottom:20px; }
        .ders-input-group { background:#000; border:1px solid #222; border-radius:10px; padding:12px; transition:0.3s; }
        .ders-input-group:hover { border-color:var(--primary); box-shadow:0 0 8px var(--primary-glow); }
        .ders-input-group h6 { margin:0 0 10px 0; color:var(--primary); font-size:11px; text-align:center; text-transform:uppercase; letter-spacing:1px; }
        .dy-row { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-bottom:8px; }
        .dy-col { display:flex; flex-direction:column; gap:3px; }
        .dy-col label { font-size:9px; color:#666; text-transform:uppercase; letter-spacing:0.5px; }
        .dy-col input { width:100%; padding:6px; font-size:12px; text-align:center; }
        .net-display { text-align:center; padding:8px; background:#0a0a0a; border-radius:8px; border:1px solid #1a1a1a; color:var(--primary); font-weight:bold; font-size:15px; transition:all 0.3s; letter-spacing:1px; }
        .net-display.positive { color:var(--accent); border-color:var(--accent); box-shadow:0 0 8px rgba(0,255,136,0.3); }
        .toplam-net-wrapper { text-align:center; margin:18px 0; padding:16px; background:#000; border-radius:12px; border:2px solid #1a1a1a; transition:0.3s; }
        .toplam-net-wrapper.yuksek { border-color:var(--accent); box-shadow:0 0 15px rgba(0,255,136,0.2); }
        .toplam-net-label { font-size:11px; color:#555; margin-bottom:6px; text-transform:uppercase; letter-spacing:2px; }
        #toplam-net { font-size:30px; color:var(--accent); font-weight:bold; text-shadow:0 0 15px rgba(0,255,136,0.5); transition:all 0.3s; }
        .deneme-card { background:#0a0a0a; border:1px solid #1e1e1e; border-radius:12px; padding:15px; margin-bottom:10px; transition:all 0.3s; animation:fadeInUp 0.3s ease both; }
        .deneme-card:hover { border-color:var(--primary); box-shadow:0 0 10px var(--primary-glow); }
        @keyframes fadeInUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
        .deneme-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; padding-bottom:10px; border-bottom:1px solid #1a1a1a; }
        .deneme-header .deneme-adi { color:var(--primary); font-weight:bold; font-size:13px; }
        .deneme-header .deneme-tarih { color:#444; font-size:10px; }
        .deneme-header .deneme-net-badge { color:var(--accent); font-weight:bold; font-size:14px; background:rgba(0,255,136,0.08); border:1px solid rgba(0,255,136,0.2); padding:3px 10px; border-radius:20px; }
        .deneme-stats { display:grid; grid-template-columns:repeat(6,1fr); gap:8px; text-align:center; font-size:11px; }
        .deneme-stats>div { background:#000; border:1px solid #1a1a1a; border-radius:8px; padding:8px 4px; transition:0.2s; }
        .deneme-stats>div:hover { border-color:var(--primary); }
        .stat-ders-adi { color:#555; font-size:9px; margin-bottom:4px; text-transform:uppercase; }
        .stat-net { color:var(--primary); font-weight:bold; font-size:13px; }
        .stat-dy { font-size:9px; color:#333; margin-top:3px; }
        .btn-row { display:flex; gap:10px; justify-content:center; margin-top:5px; }
        .btn-kaydet { border-color:var(--accent); color:var(--accent); }
        .btn-kaydet:hover { background:var(--accent); color:#000; box-shadow:0 0 10px rgba(0,255,136,0.5); }
        .gecmis-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
        .gecmis-title { font-size:14px; font-weight:bold; color:var(--primary); text-shadow:0 0 8px var(--primary-glow); }
        .deneme-sayac { font-size:10px; color:#555; background:#000; border:1px solid #222; padding:3px 10px; border-radius:20px; }
        .status-mini-bar { background:#000; border-top:2px solid #1a1a1a; padding:8px 20px; display:flex; justify-content:space-between; align-items:center; font-size:10px; color:#444; margin-top:auto; }
        .status-mini-bar span { color:var(--primary); font-weight:bold; }
        .xp-toast { position:fixed; bottom:30px; right:30px; background:#000; border:2px solid var(--accent); color:var(--accent); padding:12px 20px; border-radius:12px; font-weight:bold; font-size:14px; box-shadow:0 0 20px rgba(0,255,136,0.4); z-index:9999; opacity:0; transform:translateY(20px); transition:opacity 0.3s,transform 0.3s; pointer-events:none; }
        .xp-toast.show { opacity:1; transform:translateY(0); }
        .task-item { animation: fadeInUp 0.4s ease both; }
        /* Deneme giriÅŸ panelini sÃ¼zerek getir */
        .analiz-container {
            animation: fadeInUp 0.5s ease both;
}
        @media(max-width:800px) { .deneme-grid{grid-template-columns:repeat(2,1fr)} .deneme-stats{grid-template-columns:repeat(3,1fr)} }
        /* Her sayfadaki kutucuklarÄ± ÅŸeffaf ve buzlu cam yapar */
        .lvl-box, .header-stats, .ach-box, .task-item, .deneme-card, .market-item, .meb-konu-box {
            background: var(--card) !important;
            backdrop-filter: blur(10px) !important;
            -webkit-backdrop-filter: blur(10px); /* Safari desteÄŸi iÃ§in */
            border: 1px solid rgba(255, 255, 255, 0.08) !important;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}
        /* SÃ¼zÃ¼lme efektinin motoru */
        @keyframes fadeInUp { 
            from {
                opacity: 0;
                transform: translateY(20px);
            } 
            to {
                opacity: 1;
                transform: translateY(0);
    } 
}
        /* Deneme geÃ§miÅŸi kartlarÄ± sÄ±rayla gelsin */
        .deneme-card:nth-child(1) { animation-delay: 0.2s; }
        .deneme-card:nth-child(2) { animation-delay: 0.3s; }
        .deneme-card:nth-child(3) { animation-delay: 0.4s; }
        .deneme-card:nth-child(4) { animation-delay: 0.5s; }
    </style>
</head>
<body id="mainBody">
    <header class="top-header">
        <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
            <div class="logo">âš¡ LGS.OS</div>
            <a class="nav-link" href="index.html">ğŸ  ANA SAYFA</a>
            <button onclick="cycleTheme()">TEMA</button>
            <a class="nav-link" href="meb.html">ğŸ“š MEB KONU</a>
            <a class="nav-link active-page" href="deneme.html">ğŸ“Š DENEME</a>
            <a class="nav-link" href="hiz.html">âš¡ HIZ MODU</a>
        </div>
        <div style="display:flex;align-items:center;gap:12px;">
            <a class="nav-link achievements-link" href="achievements.html">ğŸ† BAÅARIMLAR</a>
            <div class="header-stats">
                <span class="rank-tag" id="rank-name">Ã‡AYLAK</span>
                <div class="lvl-box">LVL <span id="level">1</span></div>
                <div class="header-xp-container"><div id="header-xp-bar"></div></div>
                <div style="font-size:11px;color:var(--primary);font-weight:bold;"><span id="xp-balance">0</span> XP</div>
            </div>
        </div>
    </header>

    <div style="padding:25px 20px;flex:1;">
        <h2 class="page-title">ğŸ“Š DENEME ANALÄ°ZÄ°</h2>
        <p class="page-subtitle">DoÄŸru/YanlÄ±ÅŸ gir â†’ Net otomatik hesaplansÄ±n &nbsp;Â·&nbsp; Kaydet &amp; <span style="color:var(--primary);">+25 XP</span> kazan</p>

        <div class="analiz-container">
            <h5 style="margin:0 0 15px 0;color:var(--primary);letter-spacing:1px;">â• YENÄ° DENEME EKLE</h5>
            <input type="text" id="deneme-adi" class="deneme-name-input" placeholder="Deneme AdÄ± (Ã–rn: AralÄ±k 1. Deneme)" maxlength="60">
            <div class="deneme-grid">
                <div class="ders-input-group"><h6>ğŸ“– TÃ¼rkÃ§e (20 Soru)</h6><div class="dy-row"><div class="dy-col"><label>DoÄŸru</label><input type="number" id="turkce-d" min="0" max="20" value="0" oninput="calcNet()"></div><div class="dy-col"><label>YanlÄ±ÅŸ</label><input type="number" id="turkce-y" min="0" max="20" value="0" oninput="calcNet()"></div></div><div class="net-display" id="turkce-net">0.00</div></div>
                <div class="ders-input-group"><h6>ğŸ“ Matematik (20 Soru)</h6><div class="dy-row"><div class="dy-col"><label>DoÄŸru</label><input type="number" id="mat-d" min="0" max="20" value="0" oninput="calcNet()"></div><div class="dy-col"><label>YanlÄ±ÅŸ</label><input type="number" id="mat-y" min="0" max="20" value="0" oninput="calcNet()"></div></div><div class="net-display" id="mat-net">0.00</div></div>
                <div class="ders-input-group"><h6>ğŸ”¬ Fen Bilimleri (20 Soru)</h6><div class="dy-row"><div class="dy-col"><label>DoÄŸru</label><input type="number" id="fen-d" min="0" max="20" value="0" oninput="calcNet()"></div><div class="dy-col"><label>YanlÄ±ÅŸ</label><input type="number" id="fen-y" min="0" max="20" value="0" oninput="calcNet()"></div></div><div class="net-display" id="fen-net">0.00</div></div>
                <div class="ders-input-group"><h6>ğŸŒ Ä°ngilizce (10 Soru)</h6><div class="dy-row"><div class="dy-col"><label>DoÄŸru</label><input type="number" id="ing-d" min="0" max="10" value="0" oninput="calcNet()"></div><div class="dy-col"><label>YanlÄ±ÅŸ</label><input type="number" id="ing-y" min="0" max="10" value="0" oninput="calcNet()"></div></div><div class="net-display" id="ing-net">0.00</div></div>
                <div class="ders-input-group"><h6>ğŸ—ºï¸ Sosyal Bilimler (10 Soru)</h6><div class="dy-row"><div class="dy-col"><label>DoÄŸru</label><input type="number" id="sos-d" min="0" max="10" value="0" oninput="calcNet()"></div><div class="dy-col"><label>YanlÄ±ÅŸ</label><input type="number" id="sos-y" min="0" max="10" value="0" oninput="calcNet()"></div></div><div class="net-display" id="sos-net">0.00</div></div>
                <div class="ders-input-group"><h6>â˜ªï¸ Din KÃ¼ltÃ¼rÃ¼ (10 Soru)</h6><div class="dy-row"><div class="dy-col"><label>DoÄŸru</label><input type="number" id="din-d" min="0" max="10" value="0" oninput="calcNet()"></div><div class="dy-col"><label>YanlÄ±ÅŸ</label><input type="number" id="din-y" min="0" max="10" value="0" oninput="calcNet()"></div></div><div class="net-display" id="din-net">0.00</div></div>
            </div>
            <div class="toplam-net-wrapper" id="toplam-net-wrapper">
                <div class="toplam-net-label">TOPLAM NET</div>
                <div id="toplam-net">0.00</div>
            </div>
            <div class="btn-row">
                <button class="btn-kaydet" onclick="saveDeneme()">ğŸ’¾ KAYDET (+25 XP)</button>
                <button onclick="clearDenemeForm()">ğŸ—‘ï¸ TEMÄ°ZLE</button>
            </div>
        </div>

        <div class="analiz-container">
            <div class="gecmis-header">
                <span class="gecmis-title">ğŸ“œ KAYITLI DENEMELER</span>
                <span class="deneme-sayac" id="deneme-sayac">0 deneme</span>
            </div>
            <div id="deneme-list"></div>
        </div>
    </div>

    <div class="status-mini-bar">
        <div>LGS.OS &nbsp;Â·&nbsp; DENEME ANALÄ°Z MODÃœLÃœ</div>
        <div>LGS: <span id="lgs-days-mini">---</span> GÃœN KALDI</div>
    </div>
    <div class="xp-toast" id="xp-toast">âœ… +25 XP KAZANILDI!</div>

    <script>
        /* â”€â”€ VERÄ° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        const STORAGE_KEY = 'LGS_GAMER_OS_DATA';
        function loadData() {
            try { const r=localStorage.getItem(STORAGE_KEY); if(r) return JSON.parse(r); } catch(e) {}
            return { xpTotal:0,xpBalance:0,themeIdx:0,tasks:[],todos:[],planData:{},mebData:{},denemeler:[],hizHistory:[],hizSorular:Array(40).fill('bos'),achievements:{},visitedPages:[],achievementOpenCount:0,marketStats:{drinkCount:0,totalSpent:0},loginStreak:{lastDate:'',streak:0},bossCompleted:0,focusMinutes:0,completedTaskCount:0 };
        }
        function saveData(d) { localStorage.setItem(STORAGE_KEY,JSON.stringify(d)); }
        let appData = loadData();
        if (!appData.achievements) appData.achievements = {};
        if (!appData.denemeler)    appData.denemeler = [];
        if (!appData.visitedPages) appData.visitedPages = [];

        /* â”€â”€ ACHIEVEMENT ENGINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        const ACH_XP = {'crafting-table':10,'stone-age':20,'iron-armor':30,'diamond-ore':50,'enchanting':75,'dragon-breath':100,'speedrunner':40,'invis-potion':60,'firin-ustasi':15,'potion-master':35,'trade-center':50,'haritaci':25,'redstone-eng':30,'beacon-light':80,'villager-friend':25,'world-traveler':20,'monster-hunter':20,'wither-slayer':60,'hardcore-mode':90,'lgs-slayer':200,'redstone-math':40,'enchant-translator':45,'brewing-science':25,'ancient-history':80,'wandering-english':20,'totem-religion':40,'speed-potion-2':15,'mending-book':35,'phantom-hunter':50,'sunrise-clock':20,'mining-fatigue':70,'respawn-anchor':45,'emerald-block':90,'item-frame':20,'dye-crafter':25,'unbreaking-3':100,'the-void':30,'netherite-upgrade':60,'warden-slayer':85,'elytra-flight':50,'campfire-rest':25,'clock-sync':40,'spyglass-focus':45,'glowstone-night':55,'slimeball-stuck':10,'observer-stats':20,'golden-apple':40,'enchanted-apple':100,'shield-defense':35,'anvil-repair':40,'compass-nav':25,'shulker-box':20,'note-block':15,'command-block':15,'jukebox-party':30,'bookshelf-meb':90,'ender-pearl':70,'chorus-fruit':35,'trident-loyalty':120,'nether-star':150};
        const ACH_DEPS = {'crafting-table':null,'stone-age':'crafting-table','iron-armor':'stone-age','diamond-ore':'iron-armor','enchanting':'diamond-ore','dragon-breath':'enchanting','speedrunner':'iron-armor','invis-potion':'speedrunner','firin-ustasi':'crafting-table','potion-master':'firin-ustasi','trade-center':'potion-master','haritaci':'crafting-table','redstone-eng':'haritaci','beacon-light':'redstone-eng','villager-friend':'beacon-light','world-traveler':'villager-friend','monster-hunter':'crafting-table','wither-slayer':'monster-hunter','hardcore-mode':'wither-slayer','lgs-slayer':'dragon-breath','redstone-math':'stone-age','enchant-translator':'stone-age','brewing-science':'potion-master','ancient-history':'dragon-breath','wandering-english':'haritaci','totem-religion':'dragon-breath','speed-potion-2':'speedrunner','mending-book':'speedrunner','phantom-hunter':'invis-potion','sunrise-clock':'villager-friend','mining-fatigue':'invis-potion','respawn-anchor':'diamond-ore','emerald-block':'trade-center','item-frame':'firin-ustasi','dye-crafter':'haritaci','unbreaking-3':'villager-friend','the-void':'redstone-eng','netherite-upgrade':'diamond-ore','warden-slayer':'dragon-breath','elytra-flight':'speedrunner','campfire-rest':'invis-potion','clock-sync':'villager-friend','spyglass-focus':'mining-fatigue','glowstone-night':'phantom-hunter','slimeball-stuck':'crafting-table','observer-stats':'slimeball-stuck','golden-apple':'respawn-anchor','enchanted-apple':'golden-apple','shield-defense':'enchanted-apple','anvil-repair':'shield-defense','compass-nav':'redstone-eng','shulker-box':'compass-nav','note-block':'campfire-rest','command-block':'dye-crafter','jukebox-party':'redstone-eng','bookshelf-meb':'dragon-breath','ender-pearl':'speedrunner','chorus-fruit':'brewing-science','trident-loyalty':'unbreaking-3','nether-star':'trident-loyalty'};
        const ACH_NAMES = {'crafting-table':['ğŸªµ','Odun Ã‡aÄŸÄ±','Sisteme ilk iÃ§eriÄŸini girdin!'],'stone-age':['â›ï¸','TaÅŸ Devri','10 gÃ¶rev tamamladÄ±n!'],'iron-armor':['ğŸ›¡ï¸','Demir ZÄ±rh','Bir denemede 50 neti geÃ§tin!'],'diamond-ore':['ğŸ’','ELMAS!!!','Bir denemede 80 net Ã¼stÃ¼!'],'enchanting':['ğŸ“–','BÃ¼yÃ¼ MasasÄ±','Toplam 1000 soru Ã§Ã¶zdÃ¼n!'],'dragon-breath':['ğŸ²','Ejderha Nefesi','TÃ¼m MEB konularÄ±nÄ± tamamladÄ±n!'],'speedrunner':['âš¡','Speedrunner','20 soruyu 10 dakikada bitirdin!'],'invis-potion':['ğŸŒ«ï¸','GÃ¶rÃ¼nmezlik Ä°ksiri','120 dakika kesintisiz odak!'],'firin-ustasi':['ğŸ','FÄ±rÄ±ncÄ±','Marketten ilk yiyecek aldÄ±n!'],'potion-master':['ğŸ§ª','Ä°ksir UstasÄ±','10 kez Kahve/Ä°Ã§ecek aldÄ±n!'],'trade-center':['ğŸ’°','Ticaret Merkezi','Toplam 2000 XP harcadÄ±n!'],'haritaci':['ğŸ—ºï¸','HaritacÄ±','TÃ¼m sayfalarÄ± keÅŸfettin!'],'redstone-eng':['âš™ï¸','KÄ±zÄ±ltaÅŸ MÃ¼hendisi','HaftalÄ±k planÄ±nÄ± eksiksiz doldurdun!'],'beacon-light':['ğŸ—¼','Fener (Beacon)','10. Seviyeye ulaÅŸtÄ±n!'],'villager-friend':['ğŸ§‘â€ğŸŒ¾','KÃ¶ylÃ¼ Dostu','5 gÃ¼n Ã¼st Ã¼ste giriÅŸ yaptÄ±n!'],'world-traveler':['ğŸŒ','DÃ¼nya Gezgini','BaÅŸarÄ±mlar sayfasÄ±nÄ± 50 kez aÃ§tÄ±n!'],'monster-hunter':['âš”ï¸','Canavar AvcÄ±sÄ±','Ä°lk Boss gÃ¶revini tamamladÄ±n!'],'wither-slayer':['ğŸ’€','Wither AvcÄ±sÄ±','10 Boss gÃ¶revi tamamladÄ±n!'],'hardcore-mode':['ğŸ’”','Hardcore Mod','Bir hafta sÄ±fÄ±r sektirme!'],'lgs-slayer':['ğŸ‘‘','LGS Slayer','TÃœM baÅŸarÄ±mlarÄ± aÃ§tÄ±n!'],'redstone-math':['ğŸ“','KÄ±zÄ±ltaÅŸ Hesap Makinesi','Mat testlerinde 100 doÄŸruya ulaÅŸtÄ±n!'],'enchant-translator':['ğŸ“–','BÃ¼yÃ¼ MasasÄ± Ã‡evirmeni','TÃ¼rkÃ§ede 3 testi hatasÄ±z bitirdin!'],'brewing-science':['ğŸ§ª','Ä°ksir TezgahÄ±','Fen sorularÄ±ndan 50 tane Ã§Ã¶zdÃ¼n!'],'ancient-history':['ğŸ“œ','Antik KalÄ±ntÄ±','Sosyal/Ä°nkÄ±lap konularÄ±nÄ± tamamladÄ±n!'],'wandering-english':['ğŸŒ','Gezgin TÃ¼ccar','Ä°ngilizce testlerinde 500 XP topladÄ±n!'],'totem-religion':['ğŸŒ™','Ã–lÃ¼msÃ¼zlÃ¼k Totemi','Din testlerinde 5 ardÄ±ÅŸÄ±k %100!'],'speed-potion-2':['â˜„ï¸','HÄ±z Ä°ksiri II','HÄ±zda 15 sn altÄ±nda soru Ã§Ã¶zdÃ¼n!'],'mending-book':['ğŸ› ï¸','Tamir BÃ¼yÃ¼sÃ¼','20 yanlÄ±ÅŸÄ± doÄŸruya Ã§evirdin!'],'phantom-hunter':['ğŸ¦‡','Fantom AvcÄ±sÄ±','Gece 22:00 sonrasÄ± 1 saat odak!'],'sunrise-clock':['ğŸŒ…','GÃ¼ndoÄŸumu','07:00 Ã¶ncesi giriÅŸ yapÄ±p gÃ¶rev bitirdin!'],'mining-fatigue':['â›ï¸','Madenci YorgunluÄŸu','Tek oturumda 3 saat Ã§alÄ±ÅŸtÄ±n!'],'respawn-anchor':['âš“','Yeniden DoÄŸma Ã‡apasÄ±','Denemede 20 net artÄ±ÅŸÄ± yakaladÄ±n!'],'emerald-block':['ğŸŸ©','ZÃ¼mrÃ¼t BloÄŸu','CÃ¼zdanda 5000 XP biriktirdin!'],'item-frame':['ğŸ–¼ï¸','Koleksiyoncu','5 farklÄ± kategoride market alÄ±ÅŸÄ±!'],'dye-crafter':['ğŸ¨','Boya UstasÄ±','TÃ¼m temalarÄ± kullandÄ±n!'],'unbreaking-3':['ğŸ›¡ï¸','KÄ±rÄ±lmazlÄ±k III','30 gÃ¼n kesintisiz ziyaret!'],'the-void':['ğŸŒŒ','HiÃ§lik (The Void)','PlansÄ±z ekstra konu Ã§alÄ±ÅŸtÄ±n!'],'netherite-upgrade':['ğŸª¨','Netherit YÃ¼kseltmesi','3 denemede Ã¼st Ã¼ste 80 net!'],'warden-slayer':['ğŸ‘¹','Warden AvcÄ±sÄ±','TÃ¼m zor MEB konularÄ±nÄ± bitirdin!'],'elytra-flight':['ğŸª½','Elytra','HÄ±zda 50 soruyu sÄ±fÄ±r hatayla geÃ§tin!'],'campfire-rest':['ğŸ”¥','Kamp AteÅŸi','4 pomodoro + 1 uzun mola dÃ¶ngÃ¼sÃ¼!'],'clock-sync':['â°','Saat','3 gÃ¼n Ã¼st Ã¼ste zamanÄ±nda baÅŸladÄ±n!'],'spyglass-focus':['ğŸ”­','DÃ¼rbÃ¼n','Tek derste 150 soru Ã§Ã¶zdÃ¼n!'],'glowstone-night':['ğŸ’¡','IÅŸÄ±ktaÅŸÄ±','Gece yarÄ±sÄ± 50 netli deneme bitirdin!'],'slimeball-stuck':['ğŸŸ©','BalÃ§Ä±k Topu','Ä°lk soruyu sorulacaklara ekledin!'],'observer-stats':['ğŸ‘ï¸','GÃ¶zlemci','10 dk hata analizi yaptÄ±n!'],'golden-apple':['ğŸ','AltÄ±n Elma','3 yanlÄ±ÅŸ sonrasÄ± 5 ardÄ±ÅŸÄ±k doÄŸru!'],'enchanted-apple':['ğŸŒŸ','BÃ¼yÃ¼lÃ¼ AltÄ±n Elma','Tek gÃ¼nde 500 soru barajÄ±!'],'shield-defense':['ğŸ›¡ï¸','Kalkan','ZayÄ±f derste yanlÄ±ÅŸlarÄ± yarÄ±ya indirdin!'],'anvil-repair':['ğŸ—œï¸','Ã–rs','Zor seviye 5 test tamamladÄ±n!'],'compass-nav':['ğŸ§­','Pusula','HaftalÄ±k programÄ± eksiksiz oluÅŸturdun!'],'shulker-box':['ğŸ§°','Shulker Kutusu','50 soru kaydettin!'],'note-block':['ğŸµ','Nota BloÄŸu','Odak mÃ¼ziÄŸini 10 kez aktifleÅŸtirdin!'],'command-block':['âš™ï¸','Komut BloÄŸu','Ayarlarda 3 deÄŸiÅŸiklik yaptÄ±n!'],'jukebox-party':['ğŸ“»','MÃ¼zik Kutusu',"HaftalÄ±k hedeflerin %100'Ã¼nÃ¼ tamamladÄ±n!"],'bookshelf-meb':['ğŸ“š','KitaplÄ±k','MEB sorularÄ±nÄ±n yarÄ±sÄ±nÄ± bitirdin!'],'ender-pearl':['ğŸ”®','Ender Ä°ncisi','10 soruyu 5 dk\'da Ã§Ã¶zdÃ¼n!'],'chorus-fruit':['ğŸŒº','Koro Meyvesi','Konfor alanÄ±ndan Ã§Ä±kÄ±p 2 ekstra test!'],'trident-loyalty':['ğŸ”±','Sadakat MÄ±zraÄŸÄ±','60 gÃ¼n kesintisiz giriÅŸ!'],'nether-star':['â­','Nether YÄ±ldÄ±zÄ±','TÃ¼rkiye Geneli denemesini sisteme girdin!']};

        function checkAndUnlock(id) {
            if (appData.achievements[id]) return false;
            const dep = ACH_DEPS[id]; if (dep && !appData.achievements[dep]) return false;
            appData.achievements[id] = true;
            const xp = ACH_XP[id]||0;
            if (xp>0) { appData.xpTotal+=xp; appData.xpBalance+=xp; }
            saveData(appData); updateHeader(); _showAchToast(id,xp);
            if (id!=='lgs-slayer') { const all=Object.keys(ACH_DEPS).filter(k=>k!=='lgs-slayer'); if(all.every(k=>appData.achievements[k])) setTimeout(()=>checkAndUnlock('lgs-slayer'),1200); }
            return true;
        }
        function _showAchToast(id,xp) {
            const info=ACH_NAMES[id]; if(!info) return;
            let c=document.getElementById('_ach-toast-container');
            if(!c){c=document.createElement('div');c.id='_ach-toast-container';c.style.cssText='position:fixed;bottom:24px;left:50%;transform:translateX(-50%);z-index:99999;display:flex;flex-direction:column;gap:10px;align-items:center;pointer-events:none;';document.body.appendChild(c);}
            const t=document.createElement('div');
            t.style.cssText='background:#000;border:2px solid #ffaa00;border-radius:14px;padding:14px 22px;display:flex;align-items:center;gap:14px;box-shadow:0 0 28px rgba(255,170,0,0.5);opacity:0;transform:translateY(24px) scale(0.95);transition:opacity 0.35s ease,transform 0.35s cubic-bezier(0.34,1.56,0.64,1);max-width:420px;min-width:280px;';
            t.innerHTML=`<div style="font-size:32px">${info[0]}</div><div><div style="font-size:9px;color:#ffaa00;font-weight:bold;letter-spacing:2px;text-transform:uppercase;margin-bottom:3px;">ğŸ† BAÅARIM AÃ‡ILDI!</div><div style="font-size:14px;font-weight:bold;color:#fff;margin-bottom:2px;">${info[1]}</div><div style="font-size:11px;color:#666;">${info[2]}</div></div>${xp>0?`<div style="font-size:13px;font-weight:bold;color:#ffaa00;white-space:nowrap;margin-left:auto;">+${xp} XP</div>`:''}`;
            c.appendChild(t);
            requestAnimationFrame(()=>requestAnimationFrame(()=>{t.style.opacity='1';t.style.transform='translateY(0) scale(1)';}));
            setTimeout(()=>{t.style.opacity='0';t.style.transform='translateY(-12px) scale(0.96)';setTimeout(()=>t.remove(),400);},3500);
        }

        /* â”€â”€ SAYFA ZÄ°YARET â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        const ALL_PAGES = ['index','meb','deneme','hiz','achievements'];
        function registerPage(p) { if(!appData.visitedPages.includes(p)){appData.visitedPages.push(p);saveData(appData);} if(ALL_PAGES.every(x=>appData.visitedPages.includes(x))) checkAndUnlock('haritaci'); }

        /* â”€â”€ TEMA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        const themes=['','theme-cyan','theme-purple','theme-green'];
        function applyTheme(){document.body.className=themes[appData.themeIdx]||'';}
        function cycleTheme(){appData.themeIdx=(appData.themeIdx+1)%themes.length;saveData(appData);applyTheme();}

        /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        function updateHeader() {
            const level=Math.floor(appData.xpTotal/100)+1;
            document.getElementById('level').innerText=level;
            document.getElementById('xp-balance').innerText=appData.xpBalance;
            document.getElementById('header-xp-bar').style.width=(appData.xpTotal%100)+'%';
            const ranks=['Ã‡AYLAK','DENEYÄ°MLÄ°','USTA','FENLÄ°SELÄ°','EFSANE'];
            document.getElementById('rank-name').innerText=ranks[Math.min(level-1,4)];
        }

        /* â”€â”€ NET HESAPLA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        const dersIds = ['turkce','mat','fen','ing','sos','din'];
        function calcNet() {
            let toplam=0;
            dersIds.forEach(id=>{
                const d=Math.max(0,parseInt(document.getElementById(`${id}-d`).value)||0);
                const y=Math.max(0,parseInt(document.getElementById(`${id}-y`).value)||0);
                const net=Math.max(0,d-(y/3));
                const el=document.getElementById(`${id}-net`);
                el.textContent=net.toFixed(2);
                net>0?el.classList.add('positive'):el.classList.remove('positive');
                toplam+=net;
            });
            const toplamEl=document.getElementById('toplam-net');
            const wrapper=document.getElementById('toplam-net-wrapper');
            toplamEl.textContent=toplam.toFixed(2);
            toplam>=60?wrapper.classList.add('yuksek'):wrapper.classList.remove('yuksek');
        }

        /* â”€â”€ DENEME KAYDET â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        function saveDeneme() {
            const adi=document.getElementById('deneme-adi').value.trim()||'Ä°simsiz Deneme';
            const oku=id=>({
                dogru: Math.max(0,parseInt(document.getElementById(`${id}-d`).value)||0),
                yanlis:Math.max(0,parseInt(document.getElementById(`${id}-y`).value)||0),
                net:   parseFloat(document.getElementById(`${id}-net`).textContent)||0
            });
            const deneme={adi,tarih:new Date().toLocaleDateString('tr-TR')};
            dersIds.forEach(id=>deneme[id]=oku(id));
            deneme.toplamNet=parseFloat(document.getElementById('toplam-net').textContent)||0;
            deneme.toplamSoru=dersIds.reduce((s,id)=>s+(deneme[id].dogru+deneme[id].yanlis),0);

            appData.denemeler.unshift(deneme);
            appData.xpTotal+=25; appData.xpBalance+=25;

            /* crafting-table */
            checkAndUnlock('crafting-table');

            /* iron-armor: herhangi bir denemede 50 net */
            if (appData.denemeler.some(d=>d.toplamNet>=50)) checkAndUnlock('iron-armor');

            /* diamond-ore: herhangi bir denemede 80 net */
            if (appData.denemeler.some(d=>d.toplamNet>=80)) checkAndUnlock('diamond-ore');

            /* enchanting: tÃ¼m deneme sorularÄ± toplamÄ± 1000+ */
            const toplamSoru = appData.denemeler.reduce((s,d)=>s+(d.toplamSoru||0),0);
            if (toplamSoru>=1000) checkAndUnlock('enchanting');

            /* beacon-light: Level 10 */
            if (Math.floor(appData.xpTotal/100)+1 >= 10) checkAndUnlock('beacon-light');

            /* respawn-anchor: Ã¶nceki denemeden 20 net artÄ±ÅŸÄ± */
            if (appData.denemeler.length >= 2) {
                const prev = appData.denemeler[1].toplamNet;
                const curr = appData.denemeler[0].toplamNet;
                if (prev < 60 && curr - prev >= 20) checkAndUnlock('respawn-anchor');
            }

            /* netherite-upgrade: son 3 denemede Ã¼st Ã¼ste 80 net */
            if (appData.denemeler.length >= 3) {
                const last3 = appData.denemeler.slice(0,3);
                if (last3.every(d=>d.toplamNet>=80)) checkAndUnlock('netherite-upgrade');
            }

            /* redstone-math: mat toplam doÄŸrusu 100+ */
            const matDogru = appData.denemeler.reduce((s,d)=>s+(d.mat?d.mat.dogru:0),0);
            if (matDogru>=100) checkAndUnlock('redstone-math');

            /* enchant-translator: tÃ¼rkÃ§e'de 3 test 0 yanlÄ±ÅŸ */
            if (!appData.denemeler._trPerfect) appData.denemeler._trPerfect=0; /* geÃ§ici sayaÃ§ */
            /* _trPerfect'i ayrÄ± alanda tut */
            if (!appData.trPerfectCount) appData.trPerfectCount=0;
            if (deneme.turkce && deneme.turkce.yanlis===0 && deneme.turkce.dogru>0) {
                appData.trPerfectCount = (appData.trPerfectCount||0)+1;
                if (appData.trPerfectCount>=3) checkAndUnlock('enchant-translator');
            }

            /* brewing-science: fen sorularÄ± toplamÄ± 50+ */
            const fenSoru = appData.denemeler.reduce((s,d)=>s+(d.fen?(d.fen.dogru+d.fen.yanlis):0),0);
            if (fenSoru>=50) checkAndUnlock('brewing-science');

            /* wandering-english: ingilizce denemelerinde toplam XP 500+ (her ing sorusu ~5 XP say) */
            if (!appData.ingXP) appData.ingXP=0;
            appData.ingXP += (deneme.ing ? (deneme.ing.dogru+deneme.ing.yanlis)*5 : 0);
            if (appData.ingXP>=500) checkAndUnlock('wandering-english');

            /* totem-religion: din'de ardÄ±ÅŸÄ±k 5 test 0 yanlÄ±ÅŸ */
            if (!appData.dinPerfectStreak) appData.dinPerfectStreak=0;
            if (deneme.din && deneme.din.yanlis===0 && deneme.din.dogru>0) {
                appData.dinPerfectStreak=(appData.dinPerfectStreak||0)+1;
                if (appData.dinPerfectStreak>=5) checkAndUnlock('totem-religion');
            } else {
                appData.dinPerfectStreak=0;
            }

            /* glowstone-night: gece yarÄ±sÄ± (00:00-02:00) 50 netli deneme */
            const nowHour = new Date().getHours();
            if ((nowHour >= 0 && nowHour < 2) && deneme.toplamNet >= 50) checkAndUnlock('glowstone-night');

            /* golden-apple: Ã¶nceki denemede 3+ yanlÄ±ÅŸ ardÄ±sÄ±k olan ders dÃ¼zeldi mi? (yaklaÅŸÄ±m: genel net artÄ±ÅŸÄ±) */
            if (appData.denemeler.length >= 2) {
                const prev2 = appData.denemeler[1];
                if (prev2 && deneme.toplamNet > prev2.toplamNet + 5) {
                    if (!appData.goldenAppleProgress) appData.goldenAppleProgress = 0;
                    appData.goldenAppleProgress++;
                    if (appData.goldenAppleProgress >= 1) checkAndUnlock('golden-apple');
                }
            }

            /* enchanted-apple: tek gÃ¼n 500 soru (gÃ¼nlÃ¼k soru sayacÄ±) */
            const todayStr = new Date().toDateString();
            if (!appData.dailySoruCount || appData.dailySoruCountDate !== todayStr) {
                appData.dailySoruCount = 0;
                appData.dailySoruCountDate = todayStr;
            }
            appData.dailySoruCount += deneme.toplamSoru;
            if (appData.dailySoruCount >= 500) checkAndUnlock('enchanted-apple');

            /* shield-defense: en Ã§ok yanlÄ±ÅŸ olan ders, sonraki denemede yarÄ±ya indi */
            if (appData.denemeler.length >= 2) {
                const prevD = appData.denemeler[1];
                const maxYanlisId = dersIds.reduce((a,b)=>(prevD[a]?.yanlis||0)>(prevD[b]?.yanlis||0)?a:b, dersIds[0]);
                const prevYanlis = prevD[maxYanlisId]?.yanlis||0;
                const currYanlis = deneme[maxYanlisId]?.yanlis||0;
                if (prevYanlis >= 4 && currYanlis <= prevYanlis/2) checkAndUnlock('shield-defense');
            }

            /* bookshelf-meb: MEB'de tamamlanan konu sayÄ±sÄ± >= 24 (yarÄ±sÄ±) */
            const mebTam = Object.values(appData.mebData||{}).filter(d=>d.konu&&d.tekrar&&d.test&&d.deneme).length;
            if (mebTam >= 24) checkAndUnlock('bookshelf-meb');

            saveData(appData); updateHeader(); clearDenemeForm(); renderDenemeler(); showToast();
        }

        function clearDenemeForm() {
            document.getElementById('deneme-adi').value='';
            dersIds.forEach(id=>{ document.getElementById(`${id}-d`).value=0; document.getElementById(`${id}-y`).value=0; document.getElementById(`${id}-net`).textContent='0.00'; document.getElementById(`${id}-net`).classList.remove('positive'); });
            document.getElementById('toplam-net').textContent='0.00';
            document.getElementById('toplam-net-wrapper').classList.remove('yuksek');
        }

        function renderDenemeler() {
            const list=document.getElementById('deneme-list');
            document.getElementById('deneme-sayac').textContent=`${appData.denemeler.length} deneme`;
            if (!appData.denemeler.length) { list.innerHTML='<div style="text-align:center;color:#333;padding:30px;font-size:12px;">HenÃ¼z kayÄ±tlÄ± deneme yok.</div>'; return; }
            const dersAdi={turkce:'TÃœR',mat:'MAT',fen:'FEN',ing:'Ä°NG',sos:'SOS',din:'DÄ°N'};
            list.innerHTML=appData.denemeler.map((d,i)=>`
                <div class="deneme-card">
                    <div class="deneme-header"><span class="deneme-adi">${d.adi}</span><span class="deneme-tarih">${d.tarih}</span><span class="deneme-net-badge">NET: ${d.toplamNet.toFixed(2)}</span></div>
                    <div class="deneme-stats">${dersIds.map(id=>`<div><div class="stat-ders-adi">${dersAdi[id]}</div><div class="stat-net">${(d[id]?.net??0).toFixed(1)}</div><div class="stat-dy">${d[id]?.dogru??0}D/${d[id]?.yanlis??0}Y</div></div>`).join('')}</div>
                </div>`).join('');
        }

        let toastTimer;
        function showToast(){const t=document.getElementById('xp-toast');t.classList.add('show');clearTimeout(toastTimer);toastTimer=setTimeout(()=>t.classList.remove('show'),2500);}

        function updateLGSMini(){const days=Math.floor((new Date('June 14, 2026 09:30:00').getTime()-Date.now())/86400000);const el=document.getElementById('lgs-days-mini');if(el)el.textContent=days;}

        /* â”€â”€ BAÅLANGIÃ‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        applyTheme(); updateHeader(); renderDenemeler(); updateLGSMini();
        registerPage('deneme');
    </script>
</body>
</html>
